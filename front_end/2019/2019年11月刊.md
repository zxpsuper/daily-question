## **2019/11/11 - 2019/11/17** :watch:

- Hook 使用规则

> 只能在函数最外层调用 Hook。不要在循环、条件判断或者子函数中调用。
>
> 只能在 React 的函数组件中调用 Hook。不要在其他 JavaScript 函数中调用。（还有一个地方可以调用 Hook —— 就是自定义的 Hook 中）

## **2019/11/04 - 2019/11/10** :watch:

- [从页面 A 打开一个新页面 B，B 页面关闭（包括意外崩溃），如何通知 A 页面？](https://www.yuque.com/zhengxiaopeng/szlr4s/wa35e4)

- js 如何获取和设置 css 变量？

    ```js
    // 获取一个 Dom 节点上的 CSS 变量
    element.style.getPropertyValue("--my-var");

    // 获取任意 Dom 节点上的 CSS 变量
    getComputedStyle(element).getPropertyValue("--my-var");

    // 修改一个 Dom 节点上的 CSS 变量
    element.style.setProperty("--my-var", jsVar + 4);
    ```

- React.PureComponent 与 React.Component 的区别

  <details>
  <summary>点击</summary>

  两者的区别在于 React.Component 并未实现 shouldComponentUpdate()，而 React.PureComponent 中以浅层对比 prop 和 state 的方式来实现了该函数。

  ```txt
  注意

  React.PureComponent 中的 shouldComponentUpdate() 仅作对象的浅层比较。如果对象中包含复杂的数据结构，则有可能因为无法检查深层的差别，产生错误的比对结果。仅在你的 props 和 state 较为简单时，才使用 React.PureComponent，或者在深层数据结构发生变化时调用 forceUpdate() 来确保组件被正确地更新。你也可以考虑使用 immutable 对象加速嵌套数据的比较。

  此外，React.PureComponent 中的 shouldComponentUpdate() 将跳过所有子组件树的 prop 更新。因此，请确保所有子组件也都是“纯”的组件。
  ```
  </details>

- React.memo 的作用

  <details>
  <summary>点击</summary>

  React.memo 为高阶组件。

  如果你的组件在相同 props 的情况下渲染相同的结果，那么你可以通过将其包装在 React.memo 中调用，以此通过记忆组件渲染结果的方式来提高组件的性能表现。这意味着在这种情况下，React 将跳过渲染组件的操作并直接复用最近一次渲染的结果。

  </details>

- React.StrictMode 的作用

  <details>
  <summary>点击</summary>

  StrictMode 是一个用来突出显示应用程序中潜在问题的工具。与 Fragment 一样, StrictMode 不会渲染任何可见的 UI。它为其后代元素触发额外的检查和警告。

  严格模式检查仅在开发模式下运行；它们不会影响生产构建。

  StrictMode 目前有助于：

  - 识别不安全的生命周期
  - 关于使用过时字符串 ref API 的警告
  - 关于使用废弃的 findDOMNode 方法的警告
  - 检测意外的副作用
  - 检测过时的 context API

  </details>

- 受控组件 vs 非受控组件

  <details>
  <summary>点击</summary>

  React 有两种不同的方式来处理表单输入。

  如果一个 input 表单元素的值是由 React 控制，就其称为受控组件。当用户将数据输入到受控组件时，会触发修改状态的事件处理器，这时由你的代码来决定此输入是否有效（如果有效就使用更新后的值重新渲染）。如果不重新渲染，则表单元素将保持不变。

  一个非受控组件，就像是运行在 React 体系之外的表单元素。当用户将数据输入到表单字段（例如 input，dropdown 等）时，React 不需要做任何事情就可以映射更新后的信息。然而，这也意味着，你无法强制给这个表单字段设置一个特定值。

  在大多数情况下，你应该使用受控组件

  </details>


- react class 组件的缺点

  <details>
  <summary>点击</summary>

  - 需要绑定 this 的指向
  - class 不能很好的压缩
  - 会使热重载出现不稳定的情况

  </details>