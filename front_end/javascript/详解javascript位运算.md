## 详解javascript位运算

位运算是将数字转化为二进制进行运算得出结果

### 1. 异或

**符号**：`^`

**规则**：相同位不同的会保留 1，相同的会置为 0

```js
var a = parseInt('111111', 2) // a = 63
var b = parseInt('100010', 2) // b = 34

console.log(a ^ b) // 29

// 111111
// 100010  按照规则算异或，得
// 011101  转化为十进制刚好是 29
```

**特点和用途**

1.  任何数异或自己＝把自己置 0;

根据这一点也可以判断两数是否相等，或者可以去除重复的数（这种只限于找出数组中单独存在的一个数）

2. 实现两个值的交换，而不必使用临时变量。

```js
a = a^b； 　　//a=10100111
b = b^a； 　　//b=10100001
a = a^b； 　　//a=00000110
```
3. 实现加密解密

```js
var a = 63 // 原始值
var key = 34 // 秘钥
var a_encryption = a ^ key // 加密原始值，得到29
var a_origin = a_encryption ^ key // 解密得到 63
```


### 2. 按位取反

**符号**：`~`

`~` 是按位取反运算，`~~` 是取反两次

**规则**：1 变为 0，0 变为 1

如 3 的二进制： `"00000011"`

取反运算结果为： `11111100`    

**特点和用途**

1. 用于表示负数

负数的二进制表示由该数的相反数取反后再加1，即 -3 可以表示为

`'00000011' => '11111100' + 1 = '11111101'` 即 `11111101`

2. 用于取整

因为位运算的操作值要求是整数，其结果也是整数，所以经过位运算的都会自动变成整数， 所以带小数的整数经过两次取整后便舍去了原本的小数部分

`~~3.565 = 3`

### 3. 与（&）或（|）运算

与运算：只有两个操作数相应的比特位都是 1 时，结果才为 1，否则为 0。

或运算：对于每一个比特位，当两个操作数相应的比特位至少有一个 1 时，结果为 1，否则为 0。

### 4. 符号移动

左移：将 a 的二进制形式向左移 b (< 32) 比特位，右边用 0 填充。

有符号右移：将 a 的二进制表示向右移 b (< 32) 位，丢弃被移出的位。

无符号右移：将 a 的二进制表示向右移 b (< 32) 位，丢弃被移出的位，并使用 0 在左侧填充。