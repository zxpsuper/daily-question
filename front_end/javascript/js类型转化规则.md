## js 类型转化规则

题目： 为何 `[] == ![]` 结果为 `true`，而 `{} == !{}` 却为 `false`

**首先了解一下类型转化的规则：**

1、如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值——false 转换为 0，而 true 转换为 1；

2、如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值

3、如果一个操作数是对象，另一个操作数不是，则调用对象的 valueOf()（boolean 对象方法）方法或者 toString()方法，用得到的基本类型值按照前面的规则进行比较

null 和 undefined 是相等的

4、要比较相等性之前，不能将 null  和  undefined  转换成其他任何值

5、如果有一个操作数是 NaN，则相等操作符返回 false ，而不相等操作符返回  true。重要提示：即使两个操作数都是 NaN，相等操作符也返回 false 了；因为按照规则， NaN 不等于 NaN （NaN 不等于任何值，包括他本身）

6、如果两个操作数都是对象，则比较它们是不是同一个对象，如果两个操作数都指向同一个对象，则相等操作符返回 true；否则，返回 false

7、 `!`可将变量转换成 boolean 类型，null、undefined、NaN 以及空字符串('')取反都为 true，其余都为 false。

**现在开始分析题目**

```js
[] == ![];
// 先转化右边 ![],
// `!`可将变量转换成 boolean 类型，null、undefined、NaN 以及空字符串('')取反都为 true，其余都为 false。
// 所以 ![] => false => 0

// 左边 [], 因为[].toString() 为空字符串,所以 [] => ''

// 综上， '' == 0, 为 true
```

```js
{} == !{}
// 先转化右边 !{},
// `!`可将变量转换成 boolean 类型，null、undefined、NaN 以及空字符串('')取反都为 true，其余都为 false。
// 所以 !{} => false => 0

// 左边 ({}).toString() => "[object Object]"

// 综上， "[object Object]" == 0, 为 false
```
