## 16. 走楼梯的动态规划

**题目：**

> 楼梯台阶有 12 阶，一步只能走 1 阶或者 2 阶，那么，请问走完楼梯有多少走法？

这里涉及到动态规划，所谓动态规划，意思就是说，大事化小，小事化了。术语的话，包含三个，**最优子结构，边界，状态转移公式**

再来分析这道题目——

1. 走到最后一个台阶的前一个情况，只能有两种，就是从第 11 台阶走一步上来，或者从 10 台阶走两步上来，那么不管有多少走法走到了 11 阶假设是 X 种走法吧，假设是 Y 种走法走到了 10 阶，那么，走到 12 阶的走法一定是 X+Y，这个是成立的吧。这就是最优子结构

2. 那什么是边界呢？本例子中，走到第一个台阶，就一种走法吧，没有台阶，那就 0 种走法吧，走到第二个台阶，也就 2 种走法，其实这就是边界了。

3. 那么状态转移公式就水到渠成了, F(n) = F(n-1) + F(n-2)，看起来是不是有点像斐波那契数列？？

代码如下：

```js
function fun(n) {
  if (n < 0) {
    return 0;
  }
  if (n === 1) {
    return 1;
  }
  if (n === 2) {
    return 2;
  }
  return fun(n - 1) + fun(n - 2);
}
console.log('12台阶的走法 ：' + fun(12));
```

我们之前在斐波那契数列里面讲过，这种递归有性能问题，根据斐波那契数列的优化，改写代码如下：

```js
function fun(n) {
  if (n < 0) {
    return 0;
  }
  if (n === 1) {
    return 1;
  }
  if (n === 2) {
    return 2;
  }
  var a = 1;
  var b = 2;
  var temp = 0;
  for (var i = 3; i <= n; i++) {
    temp = a + b;
    a = b;
    b = temp;
  }
  return temp;
}
console.log('12台阶的走法 ：' + fun(12));
```
